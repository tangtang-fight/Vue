<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!--  
       一共有三个高阶函数：filter/map/reduce

       1. filter(过滤) 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。
          注意： filter() 不会对空数组进行检测。
          注意： filter() 不会改变原始数组。

        filter(callback(currentValue,index,arr),thisValue)
        callback中 
          currentValue必须写，index与arr可选
          thisValue 可选，对象作为该执行回调时使用，传递给函数，用作“this”的值
                  如果省略了thisValue，“this”的值为undefind
          
          filter对满足条件的数组元素返回true或者false，返回true则添加到新数组中
            

  -->


</head>
<body>
  <script>
    const nums = [10,20,30 , 40, 555,687];
    // 1.利用高阶函数计算，一行代码写出来--链式编程(函数式编程)

    // let total = nums.filter(function(n){
    //   return n <100;
    // }).map(function(n){
    //   return n*2;
    // }).reduce(function(preValue,n){
    //   return preValue + n;
    // },0)

    // console.log(total)

    // 2.使用箭头函数简化
    let total = nums.filter(n => n<100).map(n => n*2).reduce((preValue,n) => preValue + n , 0);
    console.log(total)








    //下面为讲解
    // // 1.filter函数的使用
    // let newNums = nums.filter(function(n,index,nums){
    //   return n < 100;
    // })
    // console.log(newNums)

    // // 2.map函数的使用
    // //20，40，60，80
    // let new2Nums = newNums.map(function(n){
    //   return n * 2;
    // })
    // console.log("map="+new2Nums)

    // // 3.reduce函数的使用----这不就是递归么
    // //对数组中所有内容进行汇总
    // //reduce(参数1，参数2)  参数一：回调函数 参数二：0
    // new2Nums.reduce(function(preValue,n){
    //   return preValue + n;
    // },0)
    //遍历4次(个数为4)
    //第一次：preValue 值为0  ---因为初始化值为0 第一次的 n为20
    //第二次：preValue 和return值有关 return多少值就是多少  100  n为40
    //第三次: preValue 还是100(return写死了)  n为60
    //第四次：preValue 100   n 80






    // // 1.需求：去除所有小于100的数字
    // let newNums = []
    // for (let n of nums) {
    //   if(n < 100) {
    //     newNums.push(n);
    //   }
    // }

    // // 2.需求：将所有小于100的数字进行转化：全部*2
    // let new2Nums = []
    // for(let n of newNums){
    //   new2Nums.push(n * 2)
    // }

    // // 3.汇总，将数组中的元素相加







  </script>





</body>
</html>